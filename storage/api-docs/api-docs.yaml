openapi: 3.0.0
info:
  title: 'Top deal shop dự án tốt nghiệp.'
  description: 'https://apitopdeal.shop/'
  contact:
    name: 'Tên người liên hệ'
    email: email@example.com
  version: 1.0.0
paths:
  /api/addresses:
    get:
      tags:
        - Address
      summary: 'Lấy danh sách địa chỉ'
      operationId: 05d45400dc99e36f78ac7453a329d22e
      responses:
        200:
          description: 'Lấy danh sách địa chỉ thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy danh sách địa chỉ thành công.'
                  addresses:
                    type: array
                    items:
                      $ref: '#/components/schemas/Address'
                type: object
        401:
          description: 'Bạn cần đăng nhập để xem danh sách địa chỉ.'
        404:
          description: 'Không tìm thấy địa chỉ nào.'
        422:
          description: 'Yêu cầu không thể xử lý do đầu vào không hợp lệ.'
        500:
          description: 'Đã xảy ra lỗi không mong muốn.'
      security:
        -
          Bearer: []
    post:
      tags:
        - Address
      summary: 'Thêm địa chỉ mới'
      operationId: 94fa3d44216521505cefc876e95c85bd
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - address_name
                - phone_number
                - city
                - district
                - ward
                - detail_address
              properties:
                address_name:
                  type: string
                  example: 'Nhà riêng'
                phone_number:
                  type: string
                  example: '0123456789'
                city:
                  type: string
                  example: 'Hà Nội'
                district:
                  type: string
                  example: 'Hoàn Kiếm'
                ward:
                  type: string
                  example: 'Tràng Tiền'
                detail_address:
                  type: string
                  example: 'Số 1, phố Tràng Tiền'
                is_default:
                  description: 'Đặt địa chỉ này làm mặc định'
                  type: boolean
                  example: true
              type: object
      responses:
        201:
          description: 'Thêm địa chỉ thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Thêm địa chỉ thành công.'
                  data:
                    $ref: '#/components/schemas/Address'
                type: object
        401:
          description: 'Bạn cần đăng nhập để thêm địa chỉ.'
        409:
          description: 'Địa chỉ này đã tồn tại.'
        422:
          description: 'Dữ liệu không hợp lệ.'
        500:
          description: 'Thêm địa chỉ thất bại.'
      security:
        -
          Bearer: []
  '/api/addresses/{id}/default':
    put:
      tags:
        - Address
      summary: 'Đặt một địa chỉ mặc định'
      description: 'Đặt một địa chỉ cụ thể làm địa chỉ mặc định cho người dùng đã xác thực. Nếu địa chỉ đã là mặc định, sẽ không thể thay đổi được.'
      operationId: 44a401e1118ba806440879c91a4b27e3
      parameters:
        -
          name: id
          in: path
          description: 'ID của địa chỉ'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Đặt địa chỉ mặc định thành công'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Địa chỉ đã được cập nhật thành mặc định'
                type: object
        404:
          description: 'Địa chỉ không tìm thấy hoặc không thuộc về người dùng'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Địa chỉ không tìm thấy hoặc không thuộc về người dùng.'
                type: object
        400:
          description: 'Địa chỉ này đã là địa chỉ mặc định'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Địa chỉ này đã là địa chỉ mặc định.'
                type: object
        401:
          description: 'Vui lòng đăng nhập'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Vui lòng đăng nhập.'
                type: object
      security:
        -
          Bearer: []
  '/api/addresses/{id}':
    get:
      tags:
        - Address
      summary: 'Lấy thông tin địa chỉ'
      description: 'Lấy thông tin chi tiết của một địa chỉ dựa trên ID. Cần đăng nhập để truy cập.'
      operationId: getAddressById
      parameters:
        -
          name: id
          in: path
          description: 'ID của địa chỉ cần lấy thông tin.'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Lấy thông tin thành công.'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thông tin thành công'
                  address:
                    $ref: '#/components/schemas/Address'
                type: object
        401:
          description: 'Bạn cần đăng nhập để xem thông tin.'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn cần đăng nhập để xem thông tin.'
                type: object
        403:
          description: 'Bạn không có quyền xem thông tin của người dùng khác.'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn không có quyền xem thông tin của người dùng khác.'
                type: object
        404:
          description: 'Không tồn tại địa chỉ này.'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không tồn tại địa chỉ này.'
                type: object
        500:
          description: 'Đã xảy ra lỗi không mong muốn.'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Đã xảy ra lỗi không mong muốn.'
                type: object
    delete:
      tags:
        - Address
      summary: 'Xóa địa chỉ của người dùng'
      operationId: fd6c07ccab4cab14b0f9d9124fc9f5bf
      parameters:
        -
          name: id
          in: path
          description: 'ID của địa chỉ cần xóa'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Xóa địa chỉ thành công'
        403:
          description: 'Không thể xóa địa chỉ mặc định'
        404:
          description: 'Người dùng không tồn tại hoặc địa chỉ không tồn tại'
        500:
          description: 'Có lỗi xảy ra'
      security:
        -
          Bearer: []
  '/api/user/addresses/{id}':
    put:
      tags:
        - Address
      summary: 'Cập nhật địa chỉ'
      operationId: 5242da090ab08765fb380e7167aa47ac
      parameters:
        -
          name: id
          in: path
          description: 'ID của địa chỉ cần cập nhật'
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - address_name
                - phone_number
                - city
                - district
                - ward
                - detail_address
              properties:
                address_name:
                  type: string
                  example: '123 Đường ABC'
                phone_number:
                  type: string
                  example: '0123456789'
                city:
                  type: string
                  example: 'Thành phố HCM'
                district:
                  type: string
                  example: 'Quận 1'
                ward:
                  type: string
                  example: 'Phường B'
                detail_address:
                  type: string
                  example: 'Số 123, khu phố 1'
                is_default:
                  type: boolean
                  example: true
              type: object
      responses:
        200:
          description: 'Cập nhật địa chỉ thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Cập nhật thông tin thành công.'
                  data:
                    properties:
                      addresses:
                        type: array
                        items:
                          $ref: '#/components/schemas/Address'
                    type: object
                type: object
        401:
          description: 'Không được phép truy cập'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn cần đăng nhập để xem thông tin.'
                type: object
        403:
          description: 'Không có quyền chỉnh sửa địa chỉ của người dùng khác'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn không có quyền chỉnh sửa địa chỉ của người dùng khác.'
                type: object
        404:
          description: 'Không tìm thấy địa chỉ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không tìm thấy địa chỉ.'
                type: object
        422:
          description: 'Dữ liệu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ.'
                  errors:
                    properties:
                      address_name:
                        type: array
                        items:
                          type: string
                          example: 'Trường này là bắt buộc.'
                    type: object
                type: object
        500:
          description: 'Lỗi không xác định'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Cập nhật thông tin thất bại.'
                  error:
                    type: string
                    example: 'Lý do lỗi'
                type: object
      security:
        -
          Bearer: []
  /api/auth/login:
    post:
      tags:
        - Auth
      summary: 'Đăng nhập người dùng'
      operationId: 4f663801d7414019eacf471e345de8ff
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: crawford.kunze@example.com
                password:
                  type: string
                  format: password
                  example: password
              type: object
      responses:
        200:
          description: 'Đăng nhập thành công'
          content:
            application/json:
              schema:
                properties:
                  access_token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                  refresh_token:
                    type: string
                    example: refresh_token_here
                  token_type:
                    type: string
                    example: bearer
                  expires_in:
                    type: integer
                    example: 3600
                type: object
        400:
          description: 'Email không tồn tại hoặc mật khẩu không đúng'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Mật khẩu không đúng.'
                type: object
  /api/auth/refresh:
    post:
      tags:
        - Auth
      summary: 'Refresh token'
      operationId: 81c8da7ecf34b62b0604d835d0ab1c04
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - refresh_token
              properties:
                refresh_token:
                  description: 'JWT refresh token'
                  type: string
              type: object
      responses:
        200:
          description: 'Token refreshed successfully'
          content:
            application/json:
              schema:
                properties:
                  access_token:
                    description: 'New JWT access token'
                    type: string
                  refresh_token:
                    description: 'New JWT refresh token'
                    type: string
                  token_type:
                    description: 'Type of the token'
                    type: string
                    example: bearer
                  expires_in:
                    description: 'Time in seconds before the token expires'
                    type: integer
                type: object
        401:
          description: 'Unauthorized, user not authenticated'
          content:
            application/json:
              schema:
                properties:
                  error:
                    description: 'Error message'
                    type: string
                type: object
        500:
          description: 'Internal server error'
          content:
            application/json:
              schema:
                properties:
                  error:
                    description: 'Error message'
                    type: string
                type: object
      security:
        -
          bearerAuth: []
  /api/auth/register:
    post:
      tags:
        - Auth
      summary: 'Đăng ký người dùng mới'
      description: 'Tạo một tài khoản người dùng mới.'
      operationId: de84cda3271107bdf3d3ae044d8afcf1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
                - email
                - password
              properties:
                name:
                  description: 'Tên người dùng'
                  type: string
                  example: 'Nguyễn Văn A'
                email:
                  description: 'Địa chỉ email của người dùng'
                  type: string
                  example: user@example.com
                password:
                  description: 'Mật khẩu của người dùng'
                  type: string
                  example: password123
              type: object
      responses:
        201:
          description: 'Tạo tài khoản thành công'
          content:
            application/json:
              schema:
                properties:
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Nguyễn Văn A'
                      email:
                        type: string
                        example: user@example.com
                    type: object
                  message:
                    type: string
                    example: 'Tạo tài khoản thành công'
                type: object
        400:
          description: 'Dữ liệu đầu vào không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Email đã tồn tại.'
                type: object
  /api/auth/password/forgot:
    post:
      tags:
        - Auth
      summary: 'Gửi link reset mật khẩu đến email'
      description: 'API để gửi email chứa link reset mật khẩu cho người dùng dựa trên địa chỉ email đã cung cấp.'
      operationId: 032e1d2f1ee87d25991e6cfbd433468b
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
              type: object
      responses:
        200:
          description: 'Link reset mật khẩu đã được gửi đến email của bạn'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Link reset mật khẩu đã được gửi đến email của bạn'
                type: object
        422:
          description: 'Email không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: 'Email không hợp lệ'
                  errors:
                    type: object
                type: object
        500:
          description: 'Không thể gửi link reset mật khẩu'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Không thể gửi link reset mật khẩu'
                type: object
  /api/auth/password/reset:
    post:
      tags:
        - Auth
      summary: 'Đặt lại mật khẩu'
      description: 'API cho phép người dùng đặt lại mật khẩu mới bằng cách cung cấp token, email, và mật khẩu mới.'
      operationId: a1a0b93d598b907b0af3baa7be08852e
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - token
                - email
                - password
                - password_confirmation
              properties:
                token:
                  type: string
                  example: abcdef123456
                email:
                  type: string
                  format: email
                  example: user@example.com
                password:
                  type: string
                  format: password
                  example: newpassword
                password_confirmation:
                  type: string
                  format: password
                  example: newpassword
              type: object
      responses:
        200:
          description: 'Mật khẩu đã được đặt lại thành công'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Mật khẩu đã được đặt lại thành công!'
                type: object
        422:
          description: 'Dữ liệu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ'
                type: object
        500:
          description: 'Có lỗi xảy ra khi reset mật khẩu'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Có lỗi xảy ra khi reset mật khẩu.'
                type: object
  /api/admin/users:
    get:
      tags:
        - User
      summary: 'Lấy danh sách người dùng'
      operationId: f9489c04d937da7b3ef302d4adc09eca
      responses:
        200:
          description: 'Danh sách người dùng được lấy thành công'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'lấy danh sách người dùng'
                  success:
                    type: boolean
                    example: true
                  users:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                type: object
  '/api/auth/users/{id}':
    get:
      tags:
        - User
      summary: 'Lấy thông tin người dùng'
      description: 'Lấy thông tin chi tiết của người dùng, bao gồm cả địa chỉ liên kết. Chỉ admin hoặc chính người dùng có thể xem thông tin của họ.'
      operationId: getUser
      parameters:
        -
          name: id
          in: path
          description: 'ID của người dùng'
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Lấy thông tin thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thông tin thành công'
                  users:
                    $ref: '#/components/schemas/User'
                type: object
        403:
          description: 'Người dùng không có quyền truy cập'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn không có quyền xem thông tin của người dùng khác.'
                type: object
        401:
          description: 'Chưa đăng nhập'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn cần đăng nhập để xem thông tin.'
                type: object
        404:
          description: 'Không tìm thấy người dùng'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không tồn tại người dùng này.'
                type: object
        500:
          description: 'Lỗi máy chủ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Đã xảy ra lỗi không mong muốn.'
                type: object
      security:
        -
          bearerAuth: []
  /api/auth/profile:
    get:
      tags:
        - User
      summary: 'Lấy thông tin hồ sơ người dùng hiện tại'
      operationId: c65ebd108ed135fde20b650a5a5b676e
      responses:
        200:
          description: 'Thông tin hồ sơ người dùng hiện tại được lấy thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        401:
          description: 'Người dùng chưa đăng nhập'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn cần đăng nhập để xem thông tin.'
                type: object
        404:
          description: 'Người dùng không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: 'User not found'
                type: object
        500:
          description: 'Có lỗi xảy ra'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: 'Error message'
                type: object
      security:
        -
          Bearer: []
  '/api/auth/profile/update/{id}':
    put:
      tags:
        - User
      summary: 'Cập nhật thông tin người dùng'
      operationId: 38045b28c1494391ea90eca9c9eae139
      parameters:
        -
          name: id
          in: path
          description: 'ID của người dùng cần cập nhật'
          required: true
          schema:
            type: bigint
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              properties:
                name:
                  description: 'Tên người dùng'
                  type: string
                avatar:
                  description: 'Ảnh đại diện của người dùng'
                  type: file
                link_fb:
                  description: 'link facebook'
                  type: string
                link_tt:
                  description: 'link tiktok'
                  type: string
              type: object
      responses:
        200:
          description: 'Cập nhật thông tin thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Cập nhật thông tin thành công.'
                  data:
                    properties:
                      user:
                        $ref: '#/components/schemas/User'
                      avatar_url:
                        type: string
                        example: 'http://example.com/storage/avatars/avatar.jpg'
                    type: object
                type: object
        401:
          description: 'Chưa đăng nhập'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn cần đăng nhập để xem thông tin.'
                type: object
        403:
          description: 'Người dùng không có quyền chỉnh sửa thông tin người khác'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn không có quyền chỉnh sửa thông tin của người dùng khác.'
                type: object
        404:
          description: 'Không thể thay đổi admin hoặc người dùng không tồn tại'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không thể thay đổi admin'
                type: object
        409:
          description: 'Địa chỉ này đã tồn tại'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Địa chỉ này đã tồn tại.'
                type: object
        422:
          description: 'Dữ liệu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ.'
                  errors:
                    type: object
                type: object
        500:
          description: 'Cập nhật thông tin thất bại'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Cập nhật thông tin thất bại'
                  error:
                    type: string
                    example: 'Error message'
                type: object
      security:
        -
          Bearer: []
  /api/admin/banners:
    get:
      tags:
        - Banners
      summary: 'Lấy danh sách tất cả banner'
      description: 'Trả về danh sách tất cả các banner trong hệ thống.'
      operationId: 57b2521cce5d8af756be880be94d3a65
      responses:
        200:
          description: 'Danh sách banner'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Banner'
                type: object
        500:
          description: 'Lỗi khi lấy danh sách banner'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lỗi không xác định.'
                type: object
      security:
        -
          Bearer: []
    post:
      tags:
        - Banners
      summary: 'Tạo một banner mới'
      description: 'Tạo một banner mới với tiêu đề, hình ảnh và liên kết đã cung cấp.'
      operationId: cbb349e4cf41b9bd0cbd10d1d2d23116
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              required:
                - name
                - image
                - link
              properties:
                name:
                  type: string
                  example: 'Tiêu đề banner'
                image:
                  type: string
                  format: binary
                link:
                  type: string
                  example: 'http://example.com'
              type: object
      responses:
        201:
          description: 'Banner tạo thành công'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Banner đã được tạo thành công'
                  data:
                    $ref: '#/components/schemas/Banner'
                type: object
        400:
          description: 'Yêu cầu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ'
                type: object
      security:
        -
          Bearer: []
  '/api/admin/banners/{id}':
    get:
      tags:
        - Banners
      summary: 'Lấy banner theo ID'
      description: 'Lấy thông tin chi tiết của một banner dựa trên ID được cung cấp.'
      operationId: 2608134dd2716b99b92ac5caa43ce5e6
      parameters:
        -
          name: id
          in: path
          description: 'ID của banner cần lấy'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Phản hồi thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Banner'
        404:
          description: 'Không tìm thấy banner'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Banner không tồn tại.'
                type: object
        500:
          description: 'Lỗi khi lấy banner'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lấy banner không thành công.'
                  error:
                    type: string
                    example: 'Lý do lỗi'
                type: object
      security:
        -
          Bearer: []
    post:
      tags:
        - Banners
      summary: 'Cập nhật thông tin một banner'
      description: 'Cập nhật thông tin của một banner dựa trên ID được cung cấp.'
      operationId: fa0621e9ac6a783f0fd74b481e9ced0e
      parameters:
        -
          name: id
          in: path
          description: 'ID của banner cần cập nhật'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              required:
                - name
                - image
                - link
                - _method
              properties:
                name:
                  type: string
                  example: 'Tiêu đề banner'
                image:
                  type: string
                  format: binary
                link:
                  type: string
                  example: 'http://example.com'
                _method:
                  type: string
                  example: PUT
              type: object
      responses:
        200:
          description: 'Banner cập nhật thành công'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Banner đã được cập nhật thành công'
                  data:
                    $ref: '#/components/schemas/Banner'
                type: object
        400:
          description: 'Yêu cầu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ'
                type: object
        404:
          description: 'Không tìm thấy banner'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Banner không tồn tại.'
                type: object
      security:
        -
          Bearer: []
    delete:
      tags:
        - Banners
      summary: 'Xóa một banner'
      description: 'Xóa một banner dựa trên ID được cung cấp.'
      operationId: 5b15edef32b534904a47e8ec29727e61
      parameters:
        -
          name: id
          in: path
          description: 'ID của banner cần xóa'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Banner đã được xóa thành công'
        404:
          description: 'Không tìm thấy banner'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Banner không tồn tại.'
                type: object
        500:
          description: 'Lỗi khi xóa banner'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Xóa banner không thành công.'
                  error:
                    type: string
                    example: 'Lý do lỗi'
                type: object
      security:
        -
          Bearer: []
  /api/admin/brands/:
    post:
      tags:
        - Brand
      summary: 'Thêm thương hiệu'
      description: 'Thêm thương hiệu vào hệ thống.'
      operationId: 0431b484f632b967655ba778a12bd945
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  description: 'Tên thương hiệu'
                  type: string
                  example: 'Thương hiệu 1'
                image:
                  description: 'Hình ảnh thương hiệu'
                  type: string
                  example: image.png
              type: object
      responses:
        201:
          description: 'Thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Thêm thương hiệu thành công.'
                  data:
                    properties:
                      brand:
                        properties:
                          id:
                            type: bigint
                            example: 1
                          name:
                            type: string
                            example: 'Thương hiệu 1'
                          image_url:
                            type: string
                            example: 'https://apitopdeal.shop/storage/brand/image.png'
                        type: object
                    type: object
                type: object
        500:
          description: 'Thêm thương hiệu thất bại'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Thêm thương hiệu thất bại'
                  error:
                    type: string
                    example: 'Error details...'
                type: object
      security:
        -
          Bearer: []
  '/api/admin/brand/{id}':
    get:
      tags:
        - Brand
      summary: 'Lấy chi tiết thương hiệu'
      operationId: 03efc00bb90c06be9d8b0081dd66509e
      parameters:
        -
          name: id
          in: path
          description: 'ID của thương hiệu'
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Lấy thành công dữ liệu của thương hiệu'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thành công dữ liệu của bản ghi {id}'
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'brand Name'
                      image:
                        type: string
                        example: image.png
                      description:
                        type: string
                        example: ''
                    type: object
                type: object
        404:
          description: 'Thương hiệu không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lấy dữ liệu không thành công'
                  error:
                    type: string
                    example: 'No query results for model [Brand]'
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lấy dữ liệu không thành công'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
      security:
        -
          Bearer: []
    put:
      tags:
        - Brand
      summary: 'Cập nhật thương hiệu'
      operationId: 5d525a2a0d9844327611ddfdda66d375
      parameters:
        -
          name: id
          in: path
          description: 'ID của danh mục'
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  example: 'Category Name'
                image:
                  type: string
                  format: binary
                  example: image.jpg
                parent_id:
                  type: string
                  example: '1'
              type: object
      responses:
        201:
          description: 'Cập nhật thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thành công dữ liệu của bản ghi {id}'
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'brand Name'
                      image:
                        type: string
                        example: image.png
                      description:
                        type: string
                        example: ''
                    type: object
                type: object
        404:
          description: 'Danh mục không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Cập nhật danh mục thất bại'
                  error:
                    type: string
                    example: 'No query results for model [Category]'
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Cập nhật danh mục thất bại'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
      security:
        -
          Bearer: []
  'api/admin/brands/{id}':
    delete:
      tags:
        - Brand
      summary: 'Xóa danh mục'
      operationId: a9976bff6784e806d6fe488811b3991b
      parameters:
        -
          name: id
          in: path
          description: 'ID của thương hiệu cần xóa'
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Xóa thương hiệu thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Xóa thương hiệu thành công.'
                type: object
        500:
          description: 'Lỗi khi xóa thương hiệu'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Xóa thương hiệu không thành công.'
                  error:
                    type: string
                    example: 'Lý do lỗi'
                type: object
      security:
        -
          Bearer: []
  /api/carts:
    get:
      tags:
        - Cart
      summary: 'Lấy danh sách sản phẩm trong giỏ hàng'
      description: 'Lấy danh sách tất cả sản phẩm trong giỏ hàng của người dùng.'
      operationId: 21230eed0aee13cda3136751f37a4439
      responses:
        200:
          description: 'Danh sách sản phẩm trong giỏ hàng'
          content:
            application/json:
              schema:
                properties:
                  cart_items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Cart'
                  total_price:
                    description: 'Tổng giá trị của sản phẩm trong giỏ hàng'
                    type: number
                    format: float
                type: object
        401:
          description: Unauthorized
      security:
        -
          Bearer: []
    post:
      tags:
        - Cart
      summary: 'Thêm sản phẩm vào giỏ hàng'
      description: 'Thêm một sản phẩm vào giỏ hàng của người dùng. Nếu sản phẩm đã tồn tại, số lượng sẽ được cập nhật.'
      operationId: 2515b3b3df63e63629b891e129b55623
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - product_id
                - quantity
              properties:
                product_id:
                  description: 'ID của sản phẩm cần thêm vào giỏ hàng.'
                  type: integer
                quantity:
                  description: 'Số lượng sản phẩm cần thêm. Phải lớn hơn 0.'
                  type: integer
                color:
                  description: 'Màu sắc của sản phẩm.'
                  type: string
                size:
                  description: 'Kích thước của sản phẩm.'
                  type: string
              type: object
      responses:
        201:
          description: 'Thêm sản phẩm thành công'
        400:
          description: 'Thông tin không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: 'Số lượng sản phẩm vượt quá giới hạn cho phép.'
                type: object
        404:
          description: 'Sản phẩm không tồn tại'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: 'Sản phẩm không tồn tại.'
                type: object
        401:
          description: Unauthorized
        500:
          description: 'Có lỗi xảy ra khi thêm sản phẩm'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: 'Có lỗi xảy ra khi thêm sản phẩm.'
                  details:
                    type: string
                    example: 'Chi tiết lỗi.'
                type: object
      security:
        -
          Bearer: []
  '/api/carts/{id}':
    delete:
      tags:
        - Cart
      summary: 'Xóa sản phẩm khỏi giỏ hàng'
      description: 'Xóa sản phẩm khỏi giỏ hàng của người dùng theo ID sản phẩm.'
      operationId: b22009110008b97b4c82e3333bc4bf24
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            description: 'ID của sản phẩm trong giỏ hàng cần xóa.'
            type: integer
      responses:
        204:
          description: 'Xóa sản phẩm thành công'
        404:
          description: 'Sản phẩm không tìm thấy'
        401:
          description: Unauthorized
      security:
        -
          Bearer: []
  '/api/cart/{id}':
    patch:
      tags:
        - Cart
      summary: 'Cập nhật số lượng sản phẩm trong giỏ hàng'
      description: 'Cập nhật số lượng của sản phẩm trong giỏ hàng của người dùng đã đăng nhập.'
      operationId: updateCartItemQuantity
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - quantity
              properties:
                quantity:
                  description: 'Số lượng sản phẩm cần cập nhật'
                  type: integer
                  example: 2
              type: object
      responses:
        200:
          description: 'Cập nhật thành công'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Cập nhật số lượng thành công'
                  cart_item:
                    $ref: '#/components/schemas/Cart'
                type: object
        401:
          description: 'Người dùng chưa đăng nhập'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Vui lòng đăng nhập'
                type: object
        404:
          description: 'Không tìm thấy sản phẩm trong giỏ hàng'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Sản phẩm không tìm thấy trong giỏ hàng'
                type: object
      security:
        -
          Bearer: []
  /api/categories:
    get:
      tags:
        - Category
      summary: 'Lấy danh sách danh mục'
      description: 'Trả về danh sách tất cả các danh mục chính và danh mục con.'
      operationId: 8e17a9627dbed245cf032f867569cf11
      responses:
        200:
          description: 'Thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thành công danh mục'
                  categories:
                    type: array
                    items:
                      properties:
                        id:
                          type: integer
                          example: 3
                        name:
                          type: string
                          example: 'Category 2'
                        slug:
                          type: string
                          example: ''
                        image:
                          type: string
                          example: 'https://picsum.photos/200/300?random=2'
                        parent_id:
                          type: integer
                          example: null
                          nullable: true
                        created_at:
                          type: string
                          format: date-time
                          example: '2024-09-05T16:26:27.000000Z'
                        updated_at:
                          type: string
                          format: date-time
                          example: '2024-09-05T16:26:27.000000Z'
                        deleted_at:
                          type: string
                          example: null
                          nullable: true
                        children:
                          type: array
                          items:
                            properties:
                              id:
                                type: integer
                                example: 9
                              name:
                                type: string
                                example: 'Category 3'
                              slug:
                                type: string
                                example: ''
                              image:
                                type: string
                                example: 'https://picsum.photos/200/300?random=3'
                              parent_id:
                                type: integer
                                example: 3
                              created_at:
                                type: string
                                format: date-time
                                example: '2024-09-05T16:26:27.000000Z'
                              updated_at:
                                type: string
                                format: date-time
                                example: '2024-09-05T16:26:27.000000Z'
                              deleted_at:
                                type: string
                                example: null
                                nullable: true
                            type: object
                      type: object
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lỗi khi lấy danh mục.'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
  /api/admin/categories/trashed:
    get:
      tags:
        - Category
      summary: 'Lấy danh mục đã xóa'
      operationId: 200c867867f83a7171472166eb9c5387
      responses:
        200:
          description: 'Lấy thành công danh mục đã xóa.'
        401:
          description: 'Bạn cần đăng nhập để xem thông tin.'
        404:
          description: 'Không thể lấy được danh mục đã xóa.'
        500:
          description: 'Đã xảy ra lỗi không mong muốn.'
      security:
        -
          Bearer: []
  /api/admin/categories:
    post:
      tags:
        - Category
      summary: 'Thêm danh mục mới'
      description: 'Thêm danh mục vào hệ thống.'
      operationId: d2b35462e503ce58ae15900db673ef51
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  description: 'Tên danh mục'
                  type: string
                  example: 'Danh mục 1'
                image:
                  description: 'Hình ảnh danh mục (đường dẫn ảnh)'
                  type: string
                  example: ''
                parent_id:
                  description: 'ID danh mục cha (nếu có)'
                  type: integer
                  example: 1
              type: object
      responses:
        201:
          description: 'Thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Thêm danh mục thành công.'
                  data:
                    properties:
                      category:
                        properties:
                          id:
                            type: integer
                            example: 2
                          name:
                            type: string
                            example: 'Danh mục 1'
                          image:
                            description: 'Để ở đây trống để test'
                            type: string
                            example: ''
                          parent_id:
                            type: integer
                            example: 1
                        type: object
                    type: object
                type: object
        403:
          description: 'Truy cập bị từ chối (không phải admin)'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn không phải admin.'
                type: object
        500:
          description: 'Thêm danh mục thất bại'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Thêm danh mục thất bại'
                  error:
                    type: string
                    example: 'Chi tiết lỗi...'
                type: object
      security:
        -
          Bearer: []
  '/api/categories/{id}':
    get:
      tags:
        - Category
      summary: 'Lấy chi tiết danh mục hoặc lấy sản phẩm theo danh mục'
      operationId: 6a038665b20191638e1608ea8897bf64
      parameters:
        -
          name: id
          in: path
          description: 'ID của danh mục'
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Lấy thành công dữ liệu của danh mục'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thành công dữ liệu của bản ghi {id}'
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Category Name'
                      image:
                        type: string
                        example: 'http://127.0.0.1:8000/storage/categories/WH9uJPvTt5VjkpDr0dE5uEkeXaFtCKaOwuAups3C.jpg'
                      parent_id:
                        type: string
                        example: ''
                      slug:
                        type: string
                        example: category-name
                      created_at:
                        type: string
                        format: date-time
                        example: '2024-09-19T12:34:56Z'
                      updated_at:
                        type: string
                        format: date-time
                        example: '2024-09-19T12:34:56Z'
                    type: object
                type: object
        404:
          description: 'Danh mục không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lấy dữ liệu không thành công'
                  error:
                    type: string
                    example: 'No query results for model [Category]'
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lấy dữ liệu không thành công'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
  '/api/admin/categories/{id}':
    put:
      tags:
        - Category
      summary: 'Cập nhật danh mục'
      description: 'Cập nhật thông tin của một danh mục.'
      operationId: d68df7c013004912f5ea2f792573304a
      parameters:
        -
          name: id
          in: path
          description: 'ID của danh mục cần cập nhật'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  example: 'Tên danh mục'
                image:
                  type: string
                  format: binary
                  example: image.jpg
                parent_id:
                  type: integer
                  example: 1
              type: object
      responses:
        200:
          description: 'Cập nhật thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Cập nhật danh mục thành công.'
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Tên danh mục'
                      slug:
                        type: string
                        example: ten-danh-muc
                      image:
                        type: string
                        example: 'http://127.0.0.1:8000/storage/categories/image.jpg'
                      created_at:
                        type: string
                        format: date-time
                        example: '2024-09-19T12:34:56Z'
                      updated_at:
                        type: string
                        format: date-time
                        example: '2024-09-19T12:34:56Z'
                    type: object
                type: object
        404:
          description: 'Danh mục không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Danh mục không tìm thấy'
                  error:
                    type: string
                    example: 'No query results for model [Category]'
                type: object
        400:
          description: 'Thông tin không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Danh mục cha không thể là danh mục con của một danh mục khác!'
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Cập nhật danh mục thất bại'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
      security:
        -
          Bearer: []
    delete:
      tags:
        - Category
      summary: 'Xóa danh mục'
      operationId: 8a783e8811e5c895ed415a5ccdd8a734
      parameters:
        -
          name: id
          in: path
          description: 'ID của danh mục cần xóa'
          required: true
          schema:
            type: string
      responses:
        204:
          description: 'Xóa danh mục thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Xóa danh mục thành công.'
                type: object
        400:
          description: 'Không thể xóa danh mục do liên quan đến các bản ghi khác'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không thể xóa danh mục này vì nó có liên quan đến các bản ghi khác.'
                type: object
        500:
          description: 'Lỗi không xác định'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Xóa danh mục không thành công do lỗi không xác định.'
                  error:
                    type: string
                    example: 'Lý do lỗi'
                type: object
      security:
        -
          Bearer: []
  /api/admin/comments:
    get:
      tags:
        - 'Admin Comments'
      summary: 'Lấy danh sách tất cả bình luận'
      description: 'Trả về danh sách tất cả các bình luận trong hệ thống hoặc lọc theo sản phẩm và người dùng.'
      operationId: 3e176f6e60251f991fe2ce2ebde1099d
      parameters:
        -
          name: product_id
          in: query
          description: 'ID sản phẩm để lọc bình luận'
          required: false
          schema:
            type: integer
        -
          name: user_id
          in: query
          description: 'ID người dùng để lọc bình luận'
          required: false
          schema:
            type: integer
      responses:
        200:
          description: 'Danh sách bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Comment'
                type: object
        500:
          description: 'Lỗi khi lấy danh sách bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lỗi không xác định.'
                type: object
      security:
        -
          Bearer: []
    post:
      tags:
        - 'Admin Comments'
      summary: 'Tạo một bình luận mới'
      description: 'Tạo một bình luận mới với nội dung, ID người dùng và ID sản phẩm đã cung cấp.'
      operationId: e5ee2e94735d1b847f7f0ce0321e7a0c
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - content
                - user_id
                - product_id
              properties:
                content:
                  type: string
                  example: 'Nội dung bình luận'
                user_id:
                  type: integer
                  example: 123
                product_id:
                  type: integer
                  example: 456
              type: object
      responses:
        201:
          description: 'Bình luận được tạo thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        400:
          description: 'Dữ liệu đầu vào không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ.'
                type: object
        500:
          description: 'Lỗi khi tạo bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Tạo bình luận không thành công.'
                type: object
      security:
        -
          Bearer: []
  '/api/admin/comments/{id}':
    get:
      tags:
        - 'Admin Comments'
      summary: 'Lấy bình luận theo ID'
      description: 'Lấy thông tin chi tiết của một bình luận dựa trên ID được cung cấp.'
      operationId: 11bb0539b32c9a718800f6ad89540b50
      parameters:
        -
          name: id
          in: path
          description: 'ID của bình luận cần lấy'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Phản hồi thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        404:
          description: 'Không tìm thấy bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bình luận không tồn tại.'
                type: object
      security:
        -
          Bearer: []
    put:
      tags:
        - 'Admin Comments'
      summary: 'Cập nhật một bình luận'
      description: 'Cập nhật bình luận dựa trên ID đã cung cấp và nội dung mới.'
      operationId: 6c10a368b8e9a01d30e1b6ed0265b466
      parameters:
        -
          name: id
          in: path
          description: 'ID của bình luận cần cập nhật'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - content
              properties:
                content:
                  type: string
                  example: 'Nội dung bình luận đã cập nhật'
              type: object
      responses:
        200:
          description: 'Bình luận được cập nhật thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        404:
          description: 'Không tìm thấy bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bình luận không tồn tại.'
                type: object
      security:
        -
          Bearer: []
    delete:
      tags:
        - 'Admin Comments'
      summary: 'Xóa bình luận'
      description: 'Xóa một bình luận dựa trên ID được cung cấp.'
      operationId: b637dd433d1077b9081b6dfbc70f786c
      parameters:
        -
          name: id
          in: path
          description: 'ID của bình luận cần xóa'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Bình luận đã được xóa thành công'
        404:
          description: 'Không tìm thấy bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bình luận không tồn tại.'
                type: object
      security:
        -
          Bearer: []
  /api/favourites:
    get:
      tags:
        - Favourites
      summary: 'Lấy danh sách sản phẩm yêu thích'
      operationId: c1e2cb9515ed511825fa500f937b1809
      responses:
        200:
          description: 'Danh sách sản phẩm yêu thích'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Favourite'
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Vui lòng đăng nhập'
                type: object
        404:
          description: 'Không có sản phẩm yêu thích nào'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Không có sản phẩm yêu thích nào'
                type: object
      security:
        -
          Bearer: []
    post:
      tags:
        - Favourites
      summary: 'Thêm sản phẩm vào danh sách yêu thích'
      operationId: 15931ec5307051f588b1fe7017dbb547
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                product_id:
                  type: integer
                  example: 1
              type: object
      responses:
        201:
          description: 'Sản phẩm đã được thêm vào yêu thích'
      security:
        -
          Bearer: []
  '/api/favourites/{id}':
    delete:
      tags:
        - Favourites
      summary: 'Xóa sản phẩm khỏi danh sách yêu thích'
      operationId: 59da34692a6fef9bb39ed3c02fb656b8
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
            example: 1
      responses:
        200:
          description: 'Sản phẩm đã được xóa khỏi danh sách yêu thích'
      security:
        -
          Bearer: []
  /api/product-colors:
    get:
      tags:
        - 'Product Colors'
      summary: 'Lấy danh sách màu sắc sản phẩm'
      operationId: c3c7e5e32777e9671bc6a85dcabbff0d
      responses:
        200:
          description: 'Thành công'
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: integer
                      example: 1
                    name:
                      type: string
                      example: Đỏ
                  type: object
    post:
      tags:
        - 'Product Colors'
      summary: 'Thêm màu sắc mới'
      operationId: 5111a3dc6f48062bb4d8182913ecf46c
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  example: 'Xanh lá'
              type: object
      responses:
        201:
          description: 'Tạo thành công'
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    example: 2
                  name:
                    type: string
                    example: 'Xanh lá'
                type: object
        422:
          description: 'Dữ liệu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Validation failed'
                  errors:
                    type: object
                type: object
  '/api/product-colors/{id}':
    get:
      tags:
        - 'Product Colors'
      summary: 'Lấy chi tiết màu sắc'
      operationId: 6520b6390ae04f0597550ac1597b0444
      parameters:
        -
          name: id
          in: path
          description: 'ID của màu sắc'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: Đỏ
                    type: object
                type: object
        404:
          description: 'Không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không tìm thấy màu sắc.'
                type: object
    put:
      tags:
        - 'Product Colors'
      summary: 'Cập nhật màu sắc'
      operationId: be0bd9a452ae2ea24a698a2fa0089883
      parameters:
        -
          name: id
          in: path
          description: 'ID của màu sắc'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  example: 'Xanh dương'
              type: object
      responses:
        200:
          description: 'Cập nhật thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Màu sắc đã được cập nhật thành công.'
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Xanh dương'
                    type: object
                type: object
        404:
          description: 'Không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không tìm thấy màu sắc.'
                type: object
        422:
          description: 'Dữ liệu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ.'
                  errors:
                    type: object
                type: object
    delete:
      tags:
        - 'Product Colors'
      summary: 'Xóa màu sắc'
      operationId: 826f7e3de8089792f4867dfa42308288
      parameters:
        -
          name: id
          in: path
          description: 'ID của màu sắc'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Xóa thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Màu sắc đã được xóa thành công.'
                type: object
        404:
          description: 'Không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không tìm thấy màu sắc.'
                type: object
  /api/products:
    get:
      tags:
        - Product
      summary: 'Lấy danh sách sản phẩm'
      description: 'Trả về danh sách tất cả các sản phẩm cùng với các thông tin liên quan.'
      operationId: ab015cc2055ac75e6d23c628675c26e7
      responses:
        200:
          description: 'Thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thành công sản phẩm'
                  products:
                    type: array
                    items:
                      properties:
                        id:
                          type: integer
                          example: 1
                        name:
                          type: string
                          example: 'Product Name'
                        description:
                          type: string
                          example: 'Mô tả sản phẩm.'
                        price:
                          type: number
                          format: float
                          example: 99.99
                        category:
                          properties:
                            id:
                              type: integer
                              example: 2
                            name:
                              type: string
                              example: 'Category Name'
                          type: object
                        brand:
                          properties:
                            id:
                              type: integer
                              example: 1
                            name:
                              type: string
                              example: 'Brand Name'
                          type: object
                        tags:
                          type: array
                          items:
                            properties:
                              id:
                                type: integer
                                example: 1
                              name:
                                type: string
                                example: 'Tag Name'
                            type: object
                        productImages:
                          type: array
                          items:
                            properties:
                              url:
                                type: string
                                example: 'https://picsum.photos/200/300?random=1'
                            type: object
                        productVariants:
                          type: array
                          items:
                            properties:
                              id:
                                type: integer
                                example: 1
                              price:
                                type: number
                                format: float
                                example: 99.99
                              productColor:
                                properties:
                                  id:
                                    type: integer
                                    example: 1
                                  name:
                                    type: string
                                    example: Red
                                type: object
                              productSize:
                                properties:
                                  id:
                                    type: integer
                                    example: 1
                                  name:
                                    type: string
                                    example: L
                                type: object
                            type: object
                      type: object
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lỗi khi lấy danh sách sản phẩm.'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
  /api/admin/products:
    post:
      tags:
        - Product
      summary: 'Thêm sản phẩm mới'
      description: 'Thêm sản phẩm vào hệ thống với các biến thể và thẻ.'
      operationId: b114a4e638eb751912f27bab4dfcca12
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  description: 'Tên sản phẩm'
                  type: string
                  example: 'Sản phẩm A'
                price_regular:
                  description: 'Giá sản phẩm'
                  type: number
                  format: float
                  example: 199000
                price_sale:
                  description: 'Giá khuyến mãi'
                  type: number
                  format: float
                  example: 199000
                content:
                  description: 'Mô tả sản phẩm'
                  type: boolean
                  example: true
                description:
                  description: 'Mô tả ngắn sản phẩm'
                  type: boolean
                  example: true
                view:
                  description: 'Lượng người truy cập sản phẩm'
                  type: boolean
                  example: true
                user_manual:
                  description: 'Chất liệu của sản phẩm'
                  type: boolean
                  example: true
                is_active:
                  description: 'Trạng thái hoạt động của sản phẩm'
                  type: boolean
                  example: true
                is_new:
                  description: 'Sản phẩm mới'
                  type: boolean
                  example: true
                is_show_home:
                  description: 'Hiển thị trên trang chủ'
                  type: boolean
                  example: false
                img_thumbnail:
                  description: 'Ảnh thumbnail của sản phẩm'
                  type: string
                  format: binary
                  example: thumbnail.png
                product_variants:
                  type: array
                  items:
                    properties:
                      product_size_id:
                        description: 'ID kích thước sản phẩm'
                        type: integer
                        example: 1
                      product_color_id:
                        description: 'ID màu sắc sản phẩm'
                        type: integer
                        example: 2
                      quantity:
                        description: 'Số lượng biến thể'
                        type: integer
                        example: 10
                      image:
                        description: 'Hình ảnh biến thể sản phẩm'
                        type: string
                        format: binary
                        example: variant_image.png
                    type: object
                tags:
                  type: array
                  items:
                    description: 'ID thẻ liên kết với sản phẩm'
                    type: integer
                    example: 1
              type: object
      responses:
        201:
          description: 'Thêm sản phẩm thành công'
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    example: 1
                  name:
                    type: string
                    example: 'Sản phẩm A'
                  price:
                    type: number
                    format: float
                    example: 199000
                  category:
                    properties:
                      name:
                        type: string
                        example: 'Danh mục 1'
                    type: object
                  brand:
                    properties:
                      name:
                        type: string
                        example: 'Thương hiệu A'
                    type: object
                  tags:
                    type: array
                    items:
                      properties:
                        name:
                          type: string
                          example: 'Thẻ 1'
                      type: object
                  product_images:
                    type: array
                    items:
                      properties:
                        url:
                          type: string
                          example: 'https://apitopdeal.shop/storage/products/thumbnail.png'
                      type: object
                  product_variants:
                    type: array
                    items:
                      properties:
                        product_size:
                          properties:
                            name:
                              type: string
                              example: 'Size M'
                          type: object
                        product_color:
                          properties:
                            name:
                              type: string
                              example: 'Màu Đỏ'
                          type: object
                        quantity:
                          type: integer
                          example: 10
                        image_url:
                          type: string
                          example: 'https://apitopdeal.shop/storage/products/variant_image.png'
                      type: object
                type: object
        500:
          description: 'Thêm sản phẩm thất bại'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: 'Lỗi thêm sản phẩm: {error details}'
                type: object
      security:
        -
          Bearer: []
  '/api/admin/product/{id}':
    get:
      tags:
        - Product
      summary: 'Lấy chi tiết sản phẩm'
      operationId: ecfd329d22f936a7e51144d7ed2c3d69
      parameters:
        -
          name: id
          in: path
          description: 'ID của sản phẩm'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Lấy thành công dữ liệu của sản phẩm'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Lấy thành công dữ liệu của sản phẩm {id}'
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Tên sản phẩm'
                      img_thumbnail:
                        type: string
                        example: thumbnail.png
                      is_active:
                        type: boolean
                        example: true
                      is_new:
                        type: boolean
                        example: false
                      is_show_home:
                        type: boolean
                        example: true
                      category:
                        properties:
                          id:
                            type: integer
                            example: 1
                          name:
                            type: string
                            example: 'Danh mục sản phẩm'
                        type: object
                      brand:
                        properties:
                          id:
                            type: integer
                            example: 1
                          name:
                            type: string
                            example: 'Thương hiệu sản phẩm'
                        type: object
                      tags:
                        type: array
                        items:
                          type: string
                          example: 'Tag 1'
                      productImages:
                        type: array
                        items:
                          properties:
                            id:
                              type: integer
                              example: 1
                            image_url:
                              type: string
                              example: image1.png
                          type: object
                      productVariants:
                        type: array
                        items:
                          properties:
                            id:
                              type: integer
                              example: 1
                            product_size_id:
                              type: integer
                              example: 1
                            product_color_id:
                              type: integer
                              example: 2
                            quantity:
                              type: integer
                              example: 10
                            image:
                              type: string
                              example: variant_image.png
                          type: object
                    type: object
                type: object
        404:
          description: 'Sản phẩm không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Sản phẩm không tìm thấy.'
                  error:
                    type: string
                    example: 'No query results for model [Product]'
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lỗi khi lấy thông tin sản phẩm.'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
      security:
        -
          Bearer: []
    put:
      tags:
        - Product
      summary: 'Cập nhật thông tin sản phẩm'
      operationId: 24b0bf291f5b21f57384d8f1ace9afdb
      parameters:
        -
          name: id
          in: path
          description: 'ID của sản phẩm'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  example: 'Tên sản phẩm'
                is_active:
                  type: boolean
                  example: true
                is_new:
                  type: boolean
                  example: false
                is_show_home:
                  type: boolean
                  example: true
                img_thumbnail:
                  type: string
                  format: binary
                  example: thumbnail.png
                product_variants:
                  type: array
                  items:
                    properties:
                      product_size_id:
                        type: integer
                        example: 1
                      product_color_id:
                        type: integer
                        example: 2
                      quantity:
                        type: integer
                        example: 10
                      image:
                        type: string
                        format: binary
                        example: variant_image.png
                      old_image:
                        type: string
                        example: old_image.png
                    type: object
                tags:
                  type: array
                  items:
                    type: integer
                    example: 1
              type: object
      responses:
        200:
          description: 'Cập nhật thành công thông tin sản phẩm'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Cập nhật thành công sản phẩm {id}'
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: 'Tên sản phẩm'
                      img_thumbnail:
                        type: string
                        example: thumbnail.png
                      is_active:
                        type: boolean
                        example: true
                      is_new:
                        type: boolean
                        example: false
                      is_show_home:
                        type: boolean
                        example: true
                      tags:
                        type: array
                        items:
                          type: integer
                          example: 1
                      productVariants:
                        type: array
                        items:
                          properties:
                            id:
                              type: integer
                              example: 1
                            product_size_id:
                              type: integer
                              example: 1
                            product_color_id:
                              type: integer
                              example: 2
                            quantity:
                              type: integer
                              example: 10
                            image:
                              type: string
                              example: variant_image.png
                          type: object
                    type: object
                type: object
        404:
          description: 'Sản phẩm không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Cập nhật không thành công'
                  error:
                    type: string
                    example: 'No query results for model [Product]'
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Cập nhật không thành công'
                  error:
                    type: string
                    example: 'Server Error Message'
                type: object
      security:
        -
          Bearer: []
  '/api/admin/products/{id}':
    delete:
      tags:
        - Product
      summary: 'Xóa sản phẩm'
      operationId: 75b10f3b0d30e4cb4e9ebfcd9a1ea2a8
      parameters:
        -
          name: id
          in: path
          description: 'ID của sản phẩm cần xóa'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Xóa sản phẩm thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Xóa sản phẩm thành công.'
                type: object
        500:
          description: 'Lỗi khi xóa sản phẩm'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Xóa sản phẩm không thành công.'
                  error:
                    type: string
                    example: 'Lý do lỗi'
                type: object
      security:
        -
          Bearer: []
  /api/product-sizes:
    get:
      tags:
        - 'Product Sizes'
      summary: 'Lấy danh sách kích thước sản phẩm'
      operationId: dc265d968a1d13294e25b98fb474bd59
      responses:
        200:
          description: 'Thành công'
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: integer
                      example: 1
                    name:
                      type: string
                      example: S
                    type:
                      type: integer
                      example: 1
                  type: object
    post:
      tags:
        - 'Product Sizes'
      summary: 'Thêm kích thước mới'
      operationId: b22769e616980915be3211859eafc918
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  example: M
                type:
                  type: integer
                  example: 1
              type: object
      responses:
        201:
          description: 'Tạo thành công'
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    example: 2
                  name:
                    type: string
                    example: M
                  type:
                    type: integer
                    example: 1
                type: object
        422:
          description: 'Dữ liệu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Validation failed'
                  errors:
                    type: object
                type: object
  '/api/product-sizes/{id}':
    get:
      tags:
        - 'Product Sizes'
      summary: 'Lấy chi tiết kích thước'
      operationId: 08727bcb605dc02588334f174249a8da
      parameters:
        -
          name: id
          in: path
          description: 'ID của kích thước'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    properties:
                      id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: S
                      type:
                        type: integer
                        example: 1
                    type: object
                type: object
        404:
          description: 'Không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không tìm thấy kích thước.'
                type: object
    put:
      tags:
        - 'Product Sizes'
      summary: 'Cập nhật kích thước'
      operationId: ea5c046077f32299b0bb6e36134a498a
      parameters:
        -
          name: id
          in: path
          description: 'ID của kích thước'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  example: L
                type:
                  type: integer
                  example: 2
              type: object
      responses:
        200:
          description: 'Cập nhật thành công'
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    example: 1
                  name:
                    type: string
                    example: L
                  type:
                    type: integer
                    example: 2
                type: object
        404:
          description: 'Không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Size not found'
                type: object
        422:
          description: 'Dữ liệu không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Validation failed'
                  errors:
                    type: object
                type: object
    delete:
      tags:
        - 'Product Sizes'
      summary: 'Xóa kích thước'
      operationId: 84de855d19eb4ed6432666acaa54a5d1
      parameters:
        -
          name: id
          in: path
          description: 'ID của kích thước'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Xóa thành công'
        404:
          description: 'Không tìm thấy'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Size not found'
                type: object
  /api/user/comments:
    get:
      tags:
        - 'User Comments'
      summary: 'Lấy danh sách bình luận của người dùng'
      description: 'Trả về danh sách bình luận của người dùng đã đăng nhập.'
      operationId: 56269984c073d6024b05399ee50a1a36
      responses:
        200:
          description: 'Danh sách bình luận của người dùng'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Comment'
                type: object
        500:
          description: 'Lỗi khi lấy danh sách bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Lỗi không xác định.'
                type: object
      security:
        -
          Bearer: []
    post:
      tags:
        - 'User Comments'
      summary: 'Tạo bình luận mới'
      description: 'Tạo một bình luận mới cho sản phẩm đã cung cấp.'
      operationId: 4cb31a77dbf34f928307321adc786bf7
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - content
                - product_id
              properties:
                content:
                  type: string
                  example: 'Nội dung bình luận'
                product_id:
                  type: integer
                  example: 456
              type: object
      responses:
        201:
          description: 'Bình luận được tạo thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        400:
          description: 'Dữ liệu đầu vào không hợp lệ'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Dữ liệu không hợp lệ.'
                type: object
        500:
          description: 'Lỗi khi tạo bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Tạo bình luận không thành công.'
                type: object
      security:
        -
          Bearer: []
  '/api/user/comments/{id}':
    get:
      tags:
        - 'User Comments'
      summary: 'Lấy bình luận theo ID'
      description: 'Lấy thông tin chi tiết của một bình luận dựa trên ID được cung cấp.'
      operationId: 14e48af9db91208d9b0752ec71a971d1
      parameters:
        -
          name: id
          in: path
          description: 'ID của bình luận cần lấy'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Phản hồi thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        404:
          description: 'Không tìm thấy bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bình luận không tồn tại.'
                type: object
      security:
        -
          Bearer: []
    put:
      tags:
        - 'User Comments'
      summary: 'Cập nhật bình luận'
      description: 'Cập nhật bình luận dựa trên ID đã cung cấp và nội dung mới.'
      operationId: 1f2ebac14195d9e5f9a4ba7e4b382aba
      parameters:
        -
          name: id
          in: path
          description: 'ID của bình luận cần cập nhật'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - content
              properties:
                content:
                  type: string
                  example: 'Nội dung bình luận đã cập nhật'
              type: object
      responses:
        200:
          description: 'Bình luận được cập nhật thành công'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        404:
          description: 'Không tìm thấy bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bình luận không tồn tại.'
                type: object
      security:
        -
          Bearer: []
    delete:
      tags:
        - 'User Comments'
      summary: 'Xóa bình luận'
      description: 'Xóa một bình luận dựa trên ID được cung cấp.'
      operationId: d255cf759899fd070cf3357a5f3bde1b
      parameters:
        -
          name: id
          in: path
          description: 'ID của bình luận cần xóa'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Bình luận đã được xóa thành công'
        404:
          description: 'Không tìm thấy bình luận'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bình luận không tồn tại.'
                type: object
      security:
        -
          Bearer: []
  /api/orders:
    post:
      tags:
        - Order
      summary: 'Tạo đơn hàng mới'
      description: 'Tạo đơn hàng mới từ giỏ hàng của người dùng'
      operationId: 696a1c27bdd6a84d6ec44991b102735c
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - payment_method
              properties:
                payment_method:
                  description: 'Phương thức thanh toán: 0 - Thanh toán khi nhận hàng, 1 - Thanh toán qua VNPAY'
                  type: integer
                  enum:
                    - 0
                    - 1
                  example: 1
                note:
                  description: 'Ghi chú cho đơn hàng'
                  type: string
                  example: 'Giao hàng trong giờ hành chính'
              type: object
      responses:
        201:
          description: 'Thanh toán thành công'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: 'Đặt hàng thành công.'
                  data:
                    properties:
                      user_id:
                        type: integer
                        example: 3
                      order_id:
                        type: integer
                        example: 57
                      total_amount:
                        type: string
                        example: '1818744.00'
                      note:
                        type: string
                        example: 'Giao nhanh cho anh'
                      order_item:
                        type: array
                        items:
                          properties:
                            id:
                              type: integer
                              example: 106
                            order_id:
                              type: integer
                              example: 57
                            quantity:
                              type: integer
                              example: 3
                            price:
                              type: string
                              example: '606248.00'
                            deleted_at:
                              type: string
                              example: null
                              nullable: true
                            created_at:
                              type: string
                              format: date-time
                              example: '2024-10-31T04:28:45.000000Z'
                            updated_at:
                              type: string
                              format: date-time
                              example: '2024-10-31T04:28:45.000000Z'
                            product_id:
                              type: integer
                              example: 17
                            color:
                              type: string
                              example: '#000000'
                            size:
                              type: string
                              example: XXL
                          type: object
                      product:
                        properties:
                          id:
                            type: integer
                            example: 17
                          name:
                            type: string
                            example: 'Quo placeat sed est est maiores. Id eos laborum rerum est harum qui sed. Quia autem autem vel rem.'
                          slug:
                            type: string
                            example: quo-placeat-sed-est-est-maiores-id-eos-laborum-rerum-est-harum-qui-sed-quia-autem-autem-vel-rem-IbiNWOYk
                          sku:
                            type: string
                            example: o6bbDUK16
                          img_thumbnail:
                            type: string
                            example: 'https://canifa.com/img/1000/1500/resize/8/b/8bj24s003-sj859-31-1-u.webp'
                          price_regular:
                            type: string
                            example: '739327.00'
                          price_sale:
                            type: string
                            example: '606248.00'
                          description:
                            type: string
                            example: 'Sit harum aut tenetur minima. Qui iste molestias illo consequuntur optio dolorem. Adipisci dolorem porro expedita voluptatem non maiores nam.'
                          'content ':
                            type: string
                            example: 'Tempora et velit culpa. Inventore quod enim ullam sequi vel natus dignissimos. Sed commodi unde qui dolores quia sint. Id aut est corrupti corporis vitae est est. Non qui laboriosam enim vitae repellendus. Perferendis rerum autem repudiandae veritatis quo...'
                          user_manual:
                            type: string
                            example: 'Recusandae quia consequuntur at occaecati. Et enim veniam voluptatem in. Quam quia ut rem cupiditate quo. Quibusdam saepe enim quibusdam iure veritatis. Nobis qui rerum accusamus quas beatae ab cupiditate.'
                          view:
                            type: integer
                            example: 0
                          is_active:
                            type: boolean
                            example: true
                          is_new:
                            type: boolean
                            example: true
                          is_show_home:
                            type: boolean
                            example: true
                          category_id:
                            type: integer
                            example: 3
                          brand_id:
                            type: integer
                            example: 1
                          created_at:
                            type: string
                            format: date-time
                            example: '2024-10-21T06:30:18.000000Z'
                          updated_at:
                            type: string
                            format: date-time
                            example: '2024-10-21T06:30:18.000000Z'
                          deleted_at:
                            type: string
                            example: null
                            nullable: true
                        type: object
                      payment_status:
                        type: string
                        example: paid
                      payment_method:
                        type: string
                        example: vnpay
                      response_code:
                        type: string
                        example: '00'
                    type: object
                type: object
        400:
          description: 'Lỗi validate dữ liệu hoặc chưa có địa chỉ mặc định'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn cần thêm địa chỉ trước khi đặt hàng.'
                type: object
        401:
          description: 'Chưa đăng nhập'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Bạn cần đăng nhập để sử dụng tính năng này.'
                type: object
        404:
          description: 'Giỏ hàng trống hoặc không tìm thấy dữ liệu'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Giỏ hàng không có sản phẩm nào.'
                type: object
        500:
          description: 'Lỗi server'
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Không thể đặt hàng'
                  error:
                    type: string
                    example: 'Internal Server Error'
                type: object
      security:
        -
          Bearer: []
  /api/admin/orders:
    get:
      tags:
        - 'Orders Admin Management'
      summary: 'Nhận tất cả các đơn hàng có bộ lọc trạng thái tùy chọn'
      operationId: 1ceaf2955581e5cc90bc8092b99dad23
      parameters:
        -
          name: status
          in: query
          description: 'Order status filter (all, pending, shipped, delivered, cancelled, returned_refunded)'
          required: false
          schema:
            type: string
      responses:
        200:
          description: 'Successful retrieval of all orders with optional status filter'
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      description: 'Order ID'
                      type: integer
                      example: 1
                    customer_name:
                      description: 'Customer name'
                      type: string
                      example: 'Nguyễn Văn A'
                    total_amount:
                      description: 'Total order amount'
                      type: number
                      format: float
                      example: 150
                    order_status:
                      description: 'Order status'
                      type: string
                      example: completed
                    created_at:
                      description: 'Order creation timestamp'
                      type: string
                      format: date-time
                      example: '2024-10-19T12:00:00Z'
                  type: object
        401:
          description: Unauthorized
        404:
          description: 'No orders found'
      security:
        -
          Bearer: []
  '/api/admin/orders/{id}':
    get:
      tags:
        - 'Orders Admin Management'
      summary: 'Lấy chi tiết đơn hàng theo ID'
      operationId: d76874e121b897ea2690260464da05e9
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Lấy thành công chi tiết đơn hàng'
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: 'ID đơn hàng'
                    type: integer
                    example: 1
                  name:
                    description: 'Tên khách hàng'
                    type: string
                    example: 'Nguyễn Văn A'
                  total_amount:
                    description: 'Tổng số tiền đơn hàng'
                    type: number
                    format: float
                    example: 150
                  address:
                    description: 'Địa chỉ giao hàng'
                    type: string
                    example: 'Địa chỉ'
                  payment_method:
                    description: 'Phương thức thanh toán'
                    type: string
                    example: 'Thẻ tín dụng'
                  payment_status:
                    description: 'Trạng thái thanh toán'
                    type: string
                    example: 'Đã thanh toán'
                  order_status:
                    description: 'Trạng thái đơn hàng'
                    type: string
                    example: 'Hoàn thành'
                  note:
                    description: 'Ghi chú của đơn hàng'
                    type: string
                    example: 'Ghi chú'
                  created_at:
                    description: 'Thời gian tạo đơn hàng'
                    type: string
                    format: date-time
                    example: '2024-10-19T12:00:00Z'
                  updated_at:
                    description: 'Thời gian cập nhật đơn hàng'
                    type: string
                    format: date-time
                    example: '2024-10-19T12:00:00Z'
                  order_items:
                    type: array
                    items:
                      properties:
                        order_id:
                          description: 'ID đơn hàng'
                          type: integer
                          example: 1
                        product_id:
                          description: 'ID sản phẩm'
                          type: integer
                          example: 101
                        quantity:
                          description: 'Số lượng sản phẩm'
                          type: integer
                          example: 2
                        price:
                          description: 'Giá của sản phẩm'
                          type: number
                          format: float
                          example: 75
                        size:
                          description: 'Kích thước của sản phẩm'
                          type: string
                          example: L
                        color:
                          description: 'Màu sắc của sản phẩm'
                          type: string
                          example: Đỏ
                        created_at:
                          description: 'Thời gian tạo sản phẩm trong đơn hàng'
                          type: string
                          format: date-time
                          example: '2024-10-19T12:00:00Z'
                        updated_at:
                          description: 'Thời gian cập nhật sản phẩm trong đơn hàng'
                          type: string
                          format: date-time
                          example: '2024-10-19T12:00:00Z'
                      type: object
                type: object
        401:
          description: 'Không được phép'
        404:
          description: 'Không tìm thấy đơn hàng'
      security:
        -
          Bearer: []
    delete:
      tags:
        - 'Orders Admin Management'
      summary: 'Xóa đơn hàng'
      description: 'Xóa một đơn hàng bằng cách đánh dấu trường deleted_at.'
      operationId: fb3d507b3666904373ceadbba9a8111e
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Đơn hàng đã được xóa thành công.'
        403:
          description: 'Bạn không có quyền xóa đơn hàng.'
        404:
          description: 'Không tìm thấy đơn hàng.'
        400:
          description: 'Không thể xóa đơn hàng có trạng thái này.'
      security:
        -
          Bearer: []
  '/api/admin/orders/status/{id}':
    put:
      tags:
        - 'Orders Admin Management'
      summary: 'Cập nhật trạng thái đơn hàng'
      operationId: 54889cf8892d5c235a262f5bc5437580
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                status:
                  type: string
                  enum:
                    - pending
                    - confirmed
                    - shipping
                    - delivered
                    - received
                    - completed
                    - cancelled
                reason:
                  description: 'Lý do hủy đơn (chỉ áp dụng khi trạng thái là cancelled)'
                  type: string
              type: object
      responses:
        200:
          description: 'Trạng thái đơn hàng đã được cập nhật thành công.'
        400:
          description: 'Yêu cầu không hợp lệ hoặc trạng thái không thể cập nhật.'
        401:
          description: 'Chưa đăng nhập.'
        404:
          description: 'Không tìm thấy đơn hàng.'
        403:
          description: 'Bạn không có quyền truy cập cập nhật trạng thái đơn hàng.'
      security:
        -
          Bearer: []
  /api/admin/orders/search:
    get:
      tags:
        - 'Orders Admin Management'
      summary: 'Tìm kiếm đơn hàng'
      operationId: aea0aa2a896d59eed060596829c9ad99
      parameters:
        -
          name: query
          in: query
          description: 'Từ khóa tìm kiếm (tên, email của khách hàng hoặc mã đơn hàng)'
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Danh sách đơn hàng tìm thấy'
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      description: 'ID đơn hàng'
                      type: integer
                    user_name:
                      description: 'Tên khách hàng'
                      type: string
                    user_email:
                      description: 'Email khách hàng'
                      type: string
                    total_amount:
                      description: 'Tổng số tiền đơn hàng'
                      type: number
                      format: float
                    created_at:
                      description: 'Thời gian tạo đơn hàng'
                      type: string
                      format: date-time
                    updated_at:
                      description: 'Thời gian cập nhật đơn hàng'
                      type: string
                      format: date-time
                    order_items:
                      type: array
                      items:
                        properties:
                          order_id:
                            description: 'ID đơn hàng'
                            type: integer
                          product_id:
                            description: 'ID sản phẩm'
                            type: integer
                          product_name:
                            description: 'Tên sản phẩm'
                            type: string
                          quantity:
                            description: 'Số lượng sản phẩm'
                            type: integer
                          price:
                            description: 'Giá của sản phẩm'
                            type: number
                            format: float
                          size:
                            description: 'Kích thước của sản phẩm'
                            type: string
                          color:
                            description: 'Màu sắc của sản phẩm'
                            type: string
                          img_thumbnail:
                            description: 'Ảnh thu nhỏ của sản phẩm'
                            type: string
                          created_at:
                            description: 'Thời gian tạo sản phẩm trong đơn hàng'
                            type: string
                            format: date-time
                          updated_at:
                            description: 'Thời gian cập nhật sản phẩm trong đơn hàng'
                            type: string
                            format: date-time
                        type: object
                  type: object
        404:
          description: 'Không tìm thấy đơn hàng'
        403:
          description: 'Không được phép'
      security:
        -
          Bearer: []
  /api/admin/orders/filter:
    get:
      tags:
        - 'Orders Admin Management'
      summary: 'Lọc đơn hàng theo ngày'
      description: 'Trả về danh sách đơn hàng trong khoảng thời gian đã chỉ định.'
      operationId: filterByDate
      parameters:
        -
          name: start_date
          in: query
          description: 'Ngày bắt đầu (Y-m-d)'
          required: true
          schema:
            type: string
            format: date
        -
          name: end_date
          in: query
          description: 'Ngày kết thúc (Y-m-d)'
          required: true
          schema:
            type: string
            format: date
      responses:
        200:
          description: 'Danh sách đơn hàng'
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: integer
                      example: 1
                    user_name:
                      type: string
                      example: 'Nguyen Van A'
                    user_email:
                      type: string
                      example: a@gmail.com
                    total_amount:
                      type: number
                      format: float
                      example: 150.75
                    created_at:
                      type: string
                      format: date-time
                      example: '2024-10-26T12:34:56'
                    updated_at:
                      type: string
                      format: date-time
                      example: '2024-10-27T12:34:56'
                    order_items:
                      type: array
                      items:
                        properties:
                          order_id:
                            type: integer
                            example: 1
                          product_id:
                            type: integer
                            example: 1
                          product_name:
                            type: string
                            example: 'Sản phẩm A'
                          quantity:
                            type: integer
                            example: 2
                          price:
                            type: number
                            format: float
                            example: 75.5
                          size:
                            type: string
                            example: M
                          color:
                            type: string
                            example: Đỏ
                          img_thumbnail:
                            type: string
                            example: 'http://example.com/image.jpg'
                          created_at:
                            type: string
                            format: date-time
                            example: '2024-10-26T12:34:56'
                          updated_at:
                            type: string
                            format: date-time
                            example: '2024-10-27T12:34:56'
                        type: object
                  type: object
        400:
          description: 'Ngày bắt đầu và ngày kết thúc là bắt buộc.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Ngày bắt đầu và ngày kết thúc là bắt buộc.'
                type: object
        404:
          description: 'Không tìm thấy đơn hàng nào trong khoảng thời gian đã cho.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Không tìm thấy đơn hàng nào trong khoảng thời gian đã cho.'
                type: object
      security:
        -
          Bearer: []
  '/orders/{id}/refund':
    post:
      tags:
        - 'Orders Admin Management'
      summary: 'Hoàn tiền cho đơn hàng'
      description: 'Xử lý yêu cầu hoàn tiền cho đơn hàng đã được giao.'
      operationId: 67112ca84ec4f5ed43eeb5fab1e2f4c1
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng cần hoàn tiền'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - amount
              properties:
                amount:
                  description: 'Số tiền hoàn trả'
                  type: number
                  format: float
                  example: 100
              type: object
      responses:
        200:
          description: 'Yêu cầu hoàn tiền đã được xử lý thành công.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Yêu cầu hoàn trả đã được xử lý thành công và hoàn tiền đã được thực hiện.'
                type: object
        403:
          description: 'Bạn không có quyền thực hiện yêu cầu hoàn trả.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Bạn không có quyền thực hiện yêu cầu hoàn trả.'
                type: object
        404:
          description: 'Không tìm thấy đơn hàng.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Không tìm thấy đơn hàng.'
                type: object
        400:
          description: 'Đơn hàng không đủ điều kiện để hoàn trả.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Đơn hàng không đủ điều kiện để hoàn trả.'
                type: object
      security:
        -
          Bearer: []
  /api/admin/orders/order-status-tracking:
    get:
      tags:
        - 'Order Tracking'
      summary: 'Lấy danh sách tất cả đơn hàng cùng thông tin sản phẩm và người đặt.'
      operationId: c20bb135c7328a6993371ee32d748457
      responses:
        200:
          description: 'Danh sách đơn hàng với trạng thái, thời gian, sản phẩm và người đặt.'
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: integer
                      example: 1
                    user_id:
                      type: integer
                      example: 1
                    address_id:
                      type: integer
                      example: 101
                    payment_method:
                      type: string
                      example: credit_card
                    payment_status:
                      type: string
                      example: paid
                    order_status:
                      type: string
                      example: delivered
                    total_amount:
                      type: number
                      format: float
                      example: 150
                    note:
                      type: string
                      example: 'Ghi chú cho đơn hàng'
                    created_at:
                      type: string
                      format: date-time
                      example: '2024-11-02T12:00:00Z'
                    updated_at:
                      type: string
                      format: date-time
                      example: '2024-11-02T12:30:00Z'
                    deleted_at:
                      type: string
                      format: date-time
                      example: '2024-11-02T13:00:00Z'
                    delivered_at:
                      type: string
                      format: date-time
                      example: '2024-11-02T13:00:00Z'
                    cancelled_by:
                      type: integer
                      example: 2
                    received_at:
                      type: string
                      format: date-time
                      example: '2024-11-02T13:00:00Z'
                    current_status:
                      type: string
                      example: 'Đơn hàng đã được giao'
                    user:
                      properties:
                        id:
                          type: integer
                          example: 1
                        name:
                          type: string
                          example: 'Nguyễn Văn A'
                        email:
                          type: string
                          example: nguyenvana@example.com
                      type: object
                    products:
                      type: array
                      items:
                        properties:
                          product_id:
                            type: integer
                            example: 101
                          product_name:
                            type: string
                            example: 'Sản phẩm A'
                          quantity:
                            type: integer
                            example: 2
                          price:
                            type: number
                            format: float
                            example: 150
                        type: object
                  type: object
        403:
          description: 'Không có quyền truy cập.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Bạn không có quyền theo dõi đơn hàng.'
                type: object
      security:
        -
          Bearer: []
  /api/user/orders:
    get:
      tags:
        - 'Orders User Management'
      summary: 'Hiển thị danh sách đơn hàng của người dùng theo trạng thái'
      operationId: 76735d19b98ad1858feaf6f64e80d404
      parameters:
        -
          name: status
          in: query
          description: 'Trạng thái đơn hàng (all, pending, shipped, delivered, cancelled, returned_refunded)'
          required: false
          schema:
            type: string
      responses:
        200:
          description: 'Danh sách đơn hàng của người dùng theo trạng thái.'
        401:
          description: 'Chưa đăng nhập.'
      security:
        -
          Bearer: []
  '/api/user/orders/{id}/cancel':
    patch:
      tags:
        - 'Orders User Management'
      summary: 'Hủy đơn hàng'
      operationId: 10cbe60b6e3f07e23cb2fbf47bed5451
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng cần hủy'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                note:
                  description: 'Lý do hủy đơn hàng'
                  type: string
              type: object
      responses:
        200:
          description: 'Đơn hàng đã được hủy.'
        404:
          description: 'Không tìm thấy đơn hàng.'
        400:
          description: 'Không thể hủy đơn hàng trong trạng thái này.'
      security:
        -
          Bearer: []
  /api/user/orders/address:
    patch:
      tags:
        - 'Orders User Management'
      summary: 'Cập nhật địa chỉ giao hàng'
      operationId: 1673d5440052065ee0ffa907e74c58aa
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                address_name:
                  type: string
                  example: 'Nguyễn Văn A'
                phone_number:
                  type: string
                  example: '0123456789'
                city:
                  type: string
                  example: TP.HCM
                district:
                  type: string
                  example: 'Quận 1'
                ward:
                  type: string
                  example: 'Phường Bến Nghé'
                detail_address:
                  type: string
                  example: '123 Đường ABC'
                is_default:
                  type: boolean
                  example: true
              type: object
      responses:
        200:
          description: 'Địa chỉ giao hàng đã được cập nhật.'
        404:
          description: 'Không tìm thấy địa chỉ.'
        422:
          description: 'Dữ liệu không hợp lệ.'
      security:
        -
          Bearer: []
  '/api/user/orders/{id}/payment-method':
    patch:
      tags:
        - 'Orders User Management'
      summary: 'Thay đổi hình thức thanh toán'
      operationId: e61d26f8db6d6da36c6caaa4058b98c2
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng cần thay đổi hình thức thanh toán'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                payment_method:
                  type: string
                  example: credit_card
              type: object
      responses:
        200:
          description: 'Hình thức thanh toán đã được cập nhật.'
        404:
          description: 'Không tìm thấy đơn hàng.'
        422:
          description: 'Dữ liệu không hợp lệ.'
      security:
        -
          Bearer: []
  '/api/user/orders/{id}':
    get:
      tags:
        - 'Orders User Management'
      summary: 'Lấy thông tin chi tiết đơn hàng'
      operationId: 8c7865a7512dd0236134ccd3cb8b3058
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng cần lấy chi tiết'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Thông tin chi tiết đơn hàng.'
          content:
            application/json:
              schema:
                properties:
                  order_id:
                    type: integer
                  name:
                    type: string
                  email:
                    type: string
                  total_amount:
                    type: number
                  address:
                    properties:
                      id:
                        type: integer
                      address_name:
                        type: string
                      phone_number:
                        type: string
                      city:
                        type: string
                      district:
                        type: string
                      ward:
                        type: string
                      detail_address:
                        type: string
                    type: object
                    nullable: true
                  payment_method:
                    type: string
                  payment_status:
                    type: string
                  order_status:
                    type: string
                  note:
                    type: string
                  created_at:
                    type: string
                    format: date-time
                  updated_at:
                    type: string
                    format: date-time
                  order_items:
                    type: array
                    items:
                      properties:
                        order_id:
                          type: integer
                        product_id:
                          type: integer
                        quantity:
                          type: integer
                        price:
                          type: number
                        size:
                          type: string
                        color:
                          type: string
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                      type: object
                type: object
        404:
          description: 'Không tìm thấy đơn hàng.'
        401:
          description: 'Chưa đăng nhập.'
      security:
        -
          Bearer: []
  '/api/user/orders/mark-as-received/{id}':
    patch:
      tags:
        - 'Orders User Management'
      summary: 'Đánh dấu đơn hàng là đã nhận'
      description: "Cập nhật trạng thái đơn hàng sang 'received' nếu người dùng đã nhận hàng."
      operationId: 239a05873503a365d552ef90c5eb628f
      parameters:
        -
          name: id
          in: path
          description: 'ID của đơn hàng'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Đơn hàng đã được đánh dấu là đã nhận.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Đơn hàng đã được đánh dấu là đã nhận thành công.'
                type: object
        400:
          description: 'Lỗi khi không thể đánh dấu đơn hàng.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Đơn hàng không thể được đánh dấu là đã nhận.'
                type: object
        404:
          description: 'Không tìm thấy đơn hàng.'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Đơn hàng không tồn tại.'
                type: object
      security:
        -
          Bearer: []
components:
  schemas:
    User:
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: 'Nguyễn Văn A'
        avatar:
          type: string
          example: path/to/avatar.png
        link_fb:
          type: string
          example: 'https://github.com/DuyLap23/datnBackEnd'
        link_tiktok:
          type: string
          example: 'https://github.com/DuyLap23/datnBackEnd'
      type: object
    Address:
      properties:
        id:
          type: integer
          example: 1
        user_id:
          type: integer
          example: 1
        address_name:
          type: string
          example: 'Số 1, Đường ABC'
        phone_number:
          type: string
          example: '0123456789'
        city:
          type: string
          example: 'Hà Nội'
        district:
          type: string
          example: 'Quận Hoàn Kiếm'
        ward:
          type: string
          example: 'Phường Tràng Tiền'
        detail_address:
          type: string
          example: 'Gần Hồ Gươm'
        is_default:
          type: boolean
          example: true
      type: object
    ResetPasswordRequest:
      required:
        - email
      properties:
        email:
          type: string
          format: email
          example: user@example.com
      type: object
    Product:
      required:
        - name
        - price
        - is_active
        - product_variants
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: 'Sản phẩm A'
        price:
          type: number
          format: float
          example: 199000
        is_active:
          type: boolean
          example: true
        is_new:
          type: boolean
          example: true
        is_show_home:
          type: boolean
          example: false
        img_thumbnail:
          type: string
          example: path/to/thumbnail.png
        product_variants:
          type: array
          items:
            properties:
              product_size_id:
                type: integer
                example: 1
              product_color_id:
                type: integer
                example: 2
              quantity:
                type: integer
                example: 10
              image:
                type: string
                example: path/to/variant_image.png
            type: object
        tags:
          type: array
          items:
            type: integer
            example: 1
        product_images:
          type: array
          items:
            properties:
              url:
                type: string
                example: 'https://apitopdeal.shop/storage/products/thumbnail.png'
            type: object
      type: object
    Category:
      required:
        - id
        - name
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: 'Danh mục sản phẩm'
        deleted_at:
          type: string
          format: date-time
          example: '2024-10-08T00:00:00Z'
      type: object
    Banner:
      type: object
      allOf:
        -
          $ref: '#/components/schemas/Category'
        -
          properties:
            id:
              type: integer
              example: 1
            name:
              type: string
              example: 'Tiêu đề banner'
            image:
              type: string
              example: link/to/image.jpg
            link:
              type: string
              example: 'http://example.com'
            created_at:
              type: string
              format: date-time
            updated_at:
              type: string
              format: date-time
          type: object
    Cart:
      type: object
      allOf:
        -
          $ref: '#/components/schemas/Category'
        -
          properties:
            id:
              type: integer
              example: 1
            user_id:
              type: integer
              example: 123
            product_id:
              type: integer
              example: 456
            quantity:
              type: integer
              example: 2
            created_at:
              type: string
              format: date-time
            updated_at:
              type: string
              format: date-time
          type: object
    Comment:
      type: object
      allOf:
        -
          $ref: '#/components/schemas/Category'
        -
          properties:
            id:
              type: integer
              example: 1
            content:
              type: string
              example: 'Nội dung bình luận'
            user_id:
              type: integer
              example: 123
            product_id:
              type: integer
              example: 456
            created_at:
              type: string
              format: date-time
            updated_at:
              type: string
              format: date-time
          type: object
    Favourite:
      title: Favourite
      required:
        - id
        - user_id
        - product_id
      type: object
      allOf:
        -
          $ref: '#/components/schemas/Category'
        -
          properties:
            id:
              description: 'ID của sản phẩm yêu thích'
              type: integer
              format: int64
            user_id:
              description: 'ID của người dùng'
              type: integer
              format: int64
            product_id:
              description: 'ID của sản phẩm'
              type: integer
              format: int64
            created_at:
              description: 'Ngày tạo bản ghi'
              type: string
              format: date-time
            updated_at:
              description: 'Ngày cập nhật bản ghi'
              type: string
              format: date-time
          type: object
  securitySchemes:
    Bearer:
      type: http
      description: "Nhập token JWT trong định dạng 'Bearer {token}'"
      bearerFormat: JWT
      scheme: bearer
tags:
  -
    name: Address
    description: Address
  -
    name: Auth
    description: Auth
  -
    name: User
    description: User
  -
    name: Banners
    description: Banners
  -
    name: Brand
    description: Brand
  -
    name: Cart
    description: Cart
  -
    name: Category
    description: Category
  -
    name: 'Admin Comments'
    description: 'Admin Comments'
  -
    name: Favourites
    description: Favourites
  -
    name: 'Product Colors'
    description: 'Product Colors'
  -
    name: Product
    description: Product
  -
    name: 'Product Sizes'
    description: 'Product Sizes'
  -
    name: 'User Comments'
    description: 'User Comments'
  -
    name: Order
    description: Order
  -
    name: 'Orders Admin Management'
    description: 'Orders Admin Management'
  -
    name: 'Order Tracking'
    description: 'Order Tracking'
  -
    name: 'Orders User Management'
    description: 'Orders User Management'
